import{a3 as I,a4 as B,C as r,l as e,b as x,a as o,a9 as R,E as f,J as L,e as F,a0 as k,av as Z,aA as E,c2 as D,T as P,B as q,n as J,c3 as M,ac as Q,af as $,A as z,q as H,c4 as U}from"./main-3d4d0525.js";import{Q as C}from"./ForumLayout-3d2e528e-5029e0dd.js";import{o as c}from"./card-9f228cfb-82863c12.js";import{c as A}from"./badge-309188c1-8cf98767.js";import{f as V}from"./input-efeef55b-bb6d4a3d.js";const G=({topics:m=[],categoryId:d,onTopicClick:a,onLike:h,onBookmark:u,loading:p=!1,className:g=""})=>{const[l,S]=r.useState(""),[v,N]=r.useState("newest"),[n,y]=r.useState("all"),j=[...[{id:"1",title:"Quellensteuer refund for expat - urgent help needed",slug:"quellensteuer-refund-expat-urgent",content:"I need help with my Quellensteuer refund. I'm an expat and not sure about the process...",author:{id:"1",name:"John Doe",role:"member"},category:{id:"1",name:"Individual Tax Returns",slug:"individual-tax-returns",color:"#3B82F6"},tags:["quellensteuer","expat","refund"],status:"active",isSolved:!1,isFeatured:!0,views:156,replies:8,likes:12,lastReply:{author:"Tax Expert",createdAt:"2 hours ago"},createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T14:30:00Z"},{id:"2",title:"VAT registration for new company - step by step guide",slug:"vat-registration-new-company-guide",content:"I'm starting a new company and need to register for VAT. Can someone guide me through the process?",author:{id:"2",name:"Jane Smith",role:"expert"},category:{id:"2",name:"Business Tax Services",slug:"business-tax-services",color:"#10B981"},tags:["vat","registration","business"],status:"active",isSolved:!0,isFeatured:!1,views:89,replies:15,likes:23,lastReply:{author:"Business Expert",createdAt:"4 hours ago"},createdAt:"2024-01-14T09:15:00Z",updatedAt:"2024-01-15T10:15:00Z"},{id:"3",title:"Double taxation treaty CH-USA - pension contributions",slug:"double-taxation-treaty-ch-usa-pension",content:"I'm contributing to both Swiss and US pension systems. How does the tax treaty affect this?",author:{id:"3",name:"Mike Johnson",role:"member"},category:{id:"3",name:"International Tax",slug:"international-tax",color:"#F59E0B"},tags:["treaty","pension","usa","international"],status:"active",isSolved:!1,isFeatured:!1,views:67,replies:5,likes:8,lastReply:{author:"International Expert",createdAt:"1 hour ago"},createdAt:"2024-01-15T08:45:00Z",updatedAt:"2024-01-15T13:45:00Z"},{id:"4",title:"2024 tax rate changes - what you need to know",slug:"2024-tax-rate-changes-guide",content:"The Swiss government has announced new tax rates for 2024. Here's what changed and how it affects you...",author:{id:"4",name:"Tax Expert",role:"expert"},category:{id:"4",name:"Tax Education & Resources",slug:"tax-education-resources",color:"#8B5CF6"},tags:["2024","rates","changes","education"],status:"pinned",isSolved:!0,isFeatured:!0,views:234,replies:12,likes:45,lastReply:{author:"Admin",createdAt:"6 hours ago"},createdAt:"2024-01-10T14:20:00Z",updatedAt:"2024-01-15T08:20:00Z"}].filter(s=>{const t=s.title.toLowerCase().includes(l.toLowerCase())||s.content.toLowerCase().includes(l.toLowerCase())||s.tags.some(T=>T.toLowerCase().includes(l.toLowerCase())),i=n==="all"||n==="solved"&&s.isSolved||n==="unsolved"&&!s.isSolved||n==="featured"&&s.isFeatured;return t&&i})].sort((s,t)=>{switch(v){case"newest":return new Date(t.createdAt).getTime()-new Date(s.createdAt).getTime();case"popular":return t.views-s.views;case"replies":return t.replies-s.replies;default:return 0}}),b=s=>{switch(s){case"pinned":return e.jsx(U,{className:"w-4 h-4 text-yellow-500"});case"locked":return e.jsx(H,{className:"w-4 h-4 text-gray-500"});default:return null}},w=s=>{switch(s){case"expert":return"bg-purple-100 text-purple-800";case"moderator":return"bg-blue-100 text-blue-800";case"admin":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return p?e.jsx("div",{className:`space-y-4 ${g}`,children:[...Array(5)].map((s,t)=>e.jsx(c,{className:"p-6 animate-pulse",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"})]})]})},t))}):e.jsxs("div",{className:`space-y-6 ${g}`,children:[e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(V,{type:"text",placeholder:"Search topics...",value:l,onChange:s=>S(s.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex flex-wrap items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:n,onChange:s=>y(s.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:[e.jsx("option",{value:"all",children:"All Topics"}),e.jsx("option",{value:"solved",children:"Solved"}),e.jsx("option",{value:"unsolved",children:"Unsolved"}),e.jsx("option",{value:"featured",children:"Featured"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:v,onChange:s=>N(s.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:[e.jsx("option",{value:"newest",children:"Newest"}),e.jsx("option",{value:"popular",children:"Most Popular"}),e.jsx("option",{value:"replies",children:"Most Replies"})]})]})]})]})}),e.jsx("div",{className:"space-y-4",children:e.jsx(P,{children:j.map((s,t)=>e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:t*.05},whileHover:{scale:1.01},whileTap:{scale:.99},children:e.jsx(c,{className:"p-6 hover:shadow-lg transition-shadow duration-200 cursor-pointer",onClick:()=>a==null?void 0:a(s),children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-1 pt-1",children:[b(s.status),s.isSolved&&e.jsx(q,{className:"w-4 h-4 text-green-500"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsxs(o,{variant:"ghost",size:"sm",onClick:i=>{i.stopPropagation(),h==null||h(s.id)},className:"text-gray-500 hover:text-red-500",children:[e.jsx(J,{className:"w-4 h-4 mr-1"}),s.likes]}),e.jsx(o,{variant:"ghost",size:"sm",onClick:i=>{i.stopPropagation(),u==null||u(s.id)},className:"text-gray-500 hover:text-blue-500",children:e.jsx(M,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:s.content}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Q,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"font-medium",children:s.author.name}),e.jsx(A,{className:`ml-2 ${w(s.author.role)}`,children:s.author.role})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{className:"w-4 h-4 mr-1"}),new Date(s.createdAt).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"w-4 h-4 mr-1"}),s.views," views"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"w-4 h-4 mr-1"}),s.replies," replies"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:s.tags.map(i=>e.jsxs(A,{variant:"outline",className:"text-xs",children:["#",i]},i))}),s.lastReply&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsxs("span",{children:["Last reply by ",s.lastReply.author]}),e.jsx("span",{className:"mx-2",children:"â€¢"}),e.jsx("span",{children:s.lastReply.createdAt})]}),e.jsx(z,{className:"w-4 h-4 text-gray-400"})]})})]})]})})},s.id))})}),j.length===0&&e.jsxs(c,{className:"p-12 text-center",children:[e.jsx(f,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No topics found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:l?"Try adjusting your search terms":"Be the first to start a discussion"}),e.jsx(o,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Create New Topic"})]})]})},_=()=>{const{categorySlug:m}=I(),d=B(),[a,h]=r.useState(null),[u,p]=r.useState([]),[g,l]=r.useState(!0),[S,v]=r.useState("");r.useState("newest"),r.useState("all");const N={"individual-tax-returns":{id:"1",name:"Individual Tax Returns",slug:"individual-tax-returns",description:"Questions about personal tax returns, deductions, and individual tax planning",icon:"user",color:"#3B82F6",topicCount:24,postCount:156,lastActivity:"2 hours ago",rules:["Be specific about your tax situation","Include relevant documents when possible","Respect privacy and confidentiality","Follow Swiss tax law guidelines"]},"business-tax-services":{id:"2",name:"Business Tax Services",slug:"business-tax-services",description:"Corporate tax compliance, VAT, and business tax planning",icon:"building",color:"#10B981",topicCount:18,postCount:89,lastActivity:"4 hours ago",rules:["Provide company details when relevant","Include business structure information","Mention industry and revenue size","Follow corporate tax guidelines"]},"international-tax":{id:"3",name:"International Tax",slug:"international-tax",description:"Cross-border tax issues, tax treaties, and expatriate tax planning",icon:"globe",color:"#F59E0B",topicCount:31,postCount:203,lastActivity:"1 hour ago",rules:["Specify your home country and residence status","Include tax treaty information if relevant","Mention double taxation concerns","Provide expat-specific details"]}},n=[{id:"1",title:"Quellensteuer refund for expat - urgent help needed",slug:"quellensteuer-refund-expat-urgent",content:"I need help with my Quellensteuer refund. I'm an expat and not sure about the process...",author:{id:"1",name:"John Doe",role:"member"},category:{id:"1",name:"Individual Tax Returns",slug:"individual-tax-returns",color:"#3B82F6"},tags:["quellensteuer","expat","refund"],status:"active",isSolved:!1,isFeatured:!0,views:156,replies:8,likes:12,lastReply:{author:"Tax Expert",createdAt:"2 hours ago"},createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T14:30:00Z"},{id:"2",title:"Pillar 3a contributions and tax deductions",slug:"pillar-3a-contributions-tax-deductions",content:"I want to maximize my Pillar 3a contributions for tax benefits. What's the current limit?",author:{id:"2",name:"Sarah Wilson",role:"member"},category:{id:"1",name:"Individual Tax Returns",slug:"individual-tax-returns",color:"#3B82F6"},tags:["pillar-3a","deductions","retirement"],status:"active",isSolved:!0,isFeatured:!1,views:89,replies:15,likes:23,lastReply:{author:"Retirement Expert",createdAt:"4 hours ago"},createdAt:"2024-01-14T09:15:00Z",updatedAt:"2024-01-15T10:15:00Z"},{id:"3",title:"Tax deductions for home office expenses",slug:"tax-deductions-home-office-expenses",content:"I work from home 3 days a week. Can I deduct home office expenses from my taxes?",author:{id:"3",name:"Mike Johnson",role:"member"},category:{id:"1",name:"Individual Tax Returns",slug:"individual-tax-returns",color:"#3B82F6"},tags:["home-office","deductions","expenses"],status:"active",isSolved:!1,isFeatured:!1,views:67,replies:5,likes:8,lastReply:{author:"Tax Advisor",createdAt:"1 hour ago"},createdAt:"2024-01-15T08:45:00Z",updatedAt:"2024-01-15T13:45:00Z"}];r.useEffect(()=>{l(!0),setTimeout(()=>{const s=N[m];s&&(h(s),p(n)),l(!1)},1e3)},[m]);const y=()=>{d(`/forum/category/${m}/create-topic`)},j=s=>{d(`/forum/topic/${s.slug}`)},b=s=>{v(s);const t=n.filter(i=>i.title.toLowerCase().includes(s.toLowerCase())||i.content.toLowerCase().includes(s.toLowerCase())||i.tags.some(T=>T.toLowerCase().includes(s.toLowerCase())));p(t)},w=s=>({user:"ðŸ‘¤",building:"ðŸ¢",globe:"ðŸŒ","book-open":"ðŸ“š",briefcase:"ðŸ’¼","message-circle":"ðŸ’¬"})[s]||"ðŸ“";return g?e.jsx(C,{children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-6"}),e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((s,t)=>e.jsx("div",{className:"h-24 bg-gray-200 rounded"},t))})]})})}):a?e.jsx(C,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("div",{className:"flex items-center space-x-4 mb-6",children:e.jsxs(o,{variant:"ghost",onClick:()=>d("/forum"),className:"flex items-center",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Back to Forum"]})}),e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center text-white text-2xl font-medium flex-shrink-0",style:{backgroundColor:a.color},children:w(a.icon)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a.name}),e.jsxs(A,{className:"bg-blue-100 text-blue-800",children:[a.topicCount," topics"]})]}),e.jsx("p",{className:"text-gray-600 mb-4 text-lg",children:a.description}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"w-4 h-4 mr-1"}),a.topicCount," topics"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(L,{className:"w-4 h-4 mr-1"}),a.postCount," posts"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{className:"w-4 h-4 mr-1"}),"Last activity ",a.lastActivity]})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(o,{onClick:y,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"New Topic"]})})]})})]}),e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsxs(c,{className:"p-6 bg-blue-50 border-blue-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Community Guidelines"}),e.jsx("ul",{className:"space-y-2 text-sm text-blue-800",children:a.rules.map((s,t)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:"â€¢"}),s]},t))})]})}),e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsx(G,{topics:u,categoryId:a.id,onTopicClick:j,onSearch:b})}),u.length===0&&e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs(c,{className:"p-12 text-center",children:[e.jsx(f,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No topics found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Be the first to start a discussion in this category."}),e.jsxs(o,{onClick:y,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Create First Topic"]})]})})]})}):e.jsx(C,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Category Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The category you're looking for doesn't exist."}),e.jsx(o,{onClick:()=>d("/forum"),children:"Back to Forum"})]})})};export{_ as default};
