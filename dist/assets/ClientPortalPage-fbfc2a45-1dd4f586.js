import{l as e,G as A,bA as M,a4 as I,C as m,b3 as $,b4 as C,b5 as G,b6 as R,b8 as T,b9 as U,bk as E,a as t,a$ as F,x as o,u as g,d as j,E as p,K as N,g as b}from"./main-3d4d0525.js";import{o as a,n as l,i,m as d}from"./card-9f228cfb-82863c12.js";const K=()=>{const{currentUser:c,logout:y}=M(),f=I(),[h,w]=m.useState([]),[v,k]=m.useState(!0),[x,S]=m.useState({totalDocuments:0,pendingReview:0,approved:0,unreadMessages:0});m.useEffect(()=>{(async()=>{if(c!=null&&c.id)try{const s=$(C(G,"documents"),R("customerId","==",c.id),T("uploadedAt","desc"),U(10)),r=(await E(s)).docs.map(n=>{var u;return{id:n.id,...n.data(),uploadedAt:(u=n.data().uploadedAt)==null?void 0:u.toDate()}});w(r),S({totalDocuments:r.length,pendingReview:r.filter(n=>n.status==="pending").length,approved:r.filter(n=>n.status==="approved").length,unreadMessages:0})}catch(s){console.error("Error fetching data:",s)}finally{k(!1)}})()},[c]);const D=async()=>{try{await y(),f("/client-portal/login")}catch(s){console.error("Error logging out:",s)}};return v?e.jsx("div",{className:"min-h-screen bg-light-gray-bg-1 py-12 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-steel-blue"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your dashboard..."})]})}):e.jsx("div",{className:"min-h-screen bg-light-gray-bg-1 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-dark-gray",children:["Welcome, ",c==null?void 0:c.name]}),e.jsx("p",{className:"text-lg text-dark-gray/80 mt-2",children:"Secure access to your tax documents and case management"})]}),e.jsxs(t,{variant:"outline",onClick:D,className:"flex items-center",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Log Out"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(a,{className:"bg-gradient-to-br from-steel-blue/10 to-blue-600/10 border-steel-blue/20",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Documents"}),e.jsx("p",{className:"text-3xl font-bold text-dark-gray mt-1",children:x.totalDocuments})]}),e.jsx(o,{className:"w-12 h-12 text-steel-blue/60"})]})})}),e.jsx(a,{className:"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-200",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Review"}),e.jsx("p",{className:"text-3xl font-bold text-dark-gray mt-1",children:x.pendingReview})]}),e.jsx(g,{className:"w-12 h-12 text-yellow-600/60"})]})})}),e.jsx(a,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),e.jsx("p",{className:"text-3xl font-bold text-dark-gray mt-1",children:x.approved})]}),e.jsx(j,{className:"w-12 h-12 text-green-600/60"})]})})}),e.jsx(a,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Messages"}),e.jsx("p",{className:"text-3xl font-bold text-dark-gray mt-1",children:x.unreadMessages})]}),e.jsx(p,{className:"w-12 h-12 text-blue-600/60"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(o,{className:"h-5 w-5 mr-2"}),"Tax Documents"]})}),e.jsxs(l,{children:[e.jsx("p",{className:"text-sm text-dark-gray/70 mb-4",children:"Access and manage your tax documents"}),e.jsx(t,{className:"w-full",children:"View Documents"})]})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(N,{className:"h-5 w-5 mr-2"}),"Upload Documents"]})}),e.jsxs(l,{children:[e.jsx("p",{className:"text-sm text-dark-gray/70 mb-4",children:"Upload new tax documents securely"}),e.jsx(t,{className:"w-full",children:"Upload Files"})]})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(p,{className:"h-5 w-5 mr-2"}),"Messages"]})}),e.jsxs(l,{children:[e.jsx("p",{className:"text-sm text-dark-gray/70 mb-4",children:"Communicate with your tax advisor"}),e.jsx(t,{className:"w-full",children:"View Messages"})]})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(g,{className:"h-5 w-5 mr-2"}),"Appointments"]})}),e.jsxs(l,{children:[e.jsx("p",{className:"text-sm text-dark-gray/70 mb-4",children:"Schedule and manage appointments"}),e.jsx(t,{className:"w-full",children:"Schedule Meeting"})]})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(j,{className:"h-5 w-5 mr-2"}),"Security"]})}),e.jsxs(l,{children:[e.jsx("p",{className:"text-sm text-dark-gray/70 mb-4",children:"Manage your account security settings"}),e.jsx(t,{className:"w-full",children:"Security Settings"})]})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(b,{className:"h-5 w-5 mr-2"}),"Downloads"]})}),e.jsxs(l,{children:[e.jsx("p",{className:"text-sm text-dark-gray/70 mb-4",children:"Download completed tax returns"}),e.jsx(t,{className:"w-full",children:"Download Files"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-dark-gray",children:"Recent Documents"}),e.jsx(t,{variant:"outline",size:"sm",children:"View All"})]}),h.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(o,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No documents uploaded yet"}),e.jsxs(t,{className:"mt-4",children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Upload Your First Document"]})]}):e.jsx("div",{className:"space-y-3",children:h.map(s=>{var r;return e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${s.status==="approved"?"bg-green-100":s.status==="pending"?"bg-yellow-100":"bg-gray-100"}`,children:e.jsx(o,{className:`w-5 h-5 ${s.status==="approved"?"text-green-600":s.status==="pending"?"text-yellow-600":"text-gray-600"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-dark-gray",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.category," • ",s.taxYear," • ",(r=s.uploadedAt)==null?void 0:r.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.status==="approved"?"bg-green-100 text-green-800":s.status==="pending"?"bg-yellow-100 text-yellow-800":s.status==="reviewed"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:s.status}),e.jsx(t,{variant:"ghost",size:"sm",children:e.jsx(b,{className:"w-4 h-4"})})]})]},s.id)})})]})]})})},L=()=>e.jsxs(e.Fragment,{children:[e.jsxs(A,{children:[e.jsx("title",{children:"Client Portal - Taxed GmbH | Secure Tax Management"}),e.jsx("meta",{name:"description",content:"Access your secure client portal to manage tax cases, upload documents, and communicate with your Swiss tax advisor at Taxed GmbH."}),e.jsx("meta",{name:"keywords",content:"client portal, tax management, secure login, document upload, tax advisor communication, Switzerland"}),e.jsx("meta",{property:"og:title",content:"Client Portal - Taxed GmbH"}),e.jsx("meta",{property:"og:description",content:"Secure client portal for managing your Swiss tax affairs"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:"https://taxed.ch/client-portal"}),e.jsx("link",{rel:"canonical",href:"https://taxed.ch/client-portal"})]}),e.jsx(K,{})]});export{L as default};
