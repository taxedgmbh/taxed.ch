const n="/backend/forum-unified-api.php";async function r(a,e){const c=await(await fetch(`${n}${a}`,{...e,headers:{"Content-Type":"application/json",...e==null?void 0:e.headers}})).json();if(!c.success)throw new Error(c.error||"API request failed");return c.data}async function s(){return r("?action=categories")}async function g(a){return(await s()).find(t=>t.slug===a)||null}async function i(a){const e=new URLSearchParams({action:"topics"});return a!=null&&a.category&&e.append("category",a.category),a!=null&&a.sort&&e.append("sort",a.sort),a!=null&&a.page&&e.append("page",a.page.toString()),a!=null&&a.limit&&e.append("limit",a.limit.toString()),r(`?${e.toString()}`)}async function u(a){return(await i({limit:100})).find(t=>t.slug===a)||null}async function f(a){const e=new URLSearchParams({action:"posts",topic_id:a.toString()});return r(`?${e.toString()}`)}async function d(){return r("?action=stats")}async function y(a,e,t){await r("?action=vote",{method:"POST",body:JSON.stringify({content_type:a,content_id:e,vote_type:t})})}export{i as a,g as b,d as c,u as d,f as e,s as g,y as v};
