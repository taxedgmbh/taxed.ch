import{j as e,a as R,az as L,bs as E,A as Z,m as p,E as P,_ as Q,bt as D,ah as M,r as k,ak as U,a7 as b,d as z,L as H,bu as J,ae as $,U as V,v as I}from"./vendor-ui-7e3c1e85.js";import{r as i,d as W,e as _}from"./vendor-react-98b53e68.js";import{F as T}from"./ForumLayout-3d2e528e.js";import{C as d}from"./card-9f228cfb.js";import{B as u}from"./main-0e44faf4.js";import{B as C}from"./badge-309188c1.js";import{I as q}from"./input-efeef55b.js";import"./vendor-helmet-2d03319e.js";import"./vendor-firebase-e71560cb.js";const G=({topics:g=[],categoryId:m,onTopicClick:a,onLike:h,onBookmark:x,loading:y=!1,className:v=""})=>{const[l,A]=i.useState(""),[f,w]=i.useState("newest"),[n,j]=i.useState("all"),N=[...[{id:"1",title:"Quellensteuer refund for expat - urgent help needed",slug:"quellensteuer-refund-expat-urgent",content:"I need help with my Quellensteuer refund. I'm an expat and not sure about the process...",author:{id:"1",name:"John Doe",role:"member"},category:{id:"1",name:"Individual Tax Returns",slug:"individual-tax-returns",color:"#3B82F6"},tags:["quellensteuer","expat","refund"],status:"active",isSolved:!1,isFeatured:!0,views:156,replies:8,likes:12,lastReply:{author:"Tax Expert",createdAt:"2 hours ago"},createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T14:30:00Z"},{id:"2",title:"VAT registration for new company - step by step guide",slug:"vat-registration-new-company-guide",content:"I'm starting a new company and need to register for VAT. Can someone guide me through the process?",author:{id:"2",name:"Jane Smith",role:"expert"},category:{id:"2",name:"Business Tax Services",slug:"business-tax-services",color:"#10B981"},tags:["vat","registration","business"],status:"active",isSolved:!0,isFeatured:!1,views:89,replies:15,likes:23,lastReply:{author:"Business Expert",createdAt:"4 hours ago"},createdAt:"2024-01-14T09:15:00Z",updatedAt:"2024-01-15T10:15:00Z"},{id:"3",title:"Double taxation treaty CH-USA - pension contributions",slug:"double-taxation-treaty-ch-usa-pension",content:"I'm contributing to both Swiss and US pension systems. How does the tax treaty affect this?",author:{id:"3",name:"Mike Johnson",role:"member"},category:{id:"3",name:"International Tax",slug:"international-tax",color:"#F59E0B"},tags:["treaty","pension","usa","international"],status:"active",isSolved:!1,isFeatured:!1,views:67,replies:5,likes:8,lastReply:{author:"International Expert",createdAt:"1 hour ago"},createdAt:"2024-01-15T08:45:00Z",updatedAt:"2024-01-15T13:45:00Z"},{id:"4",title:"2024 tax rate changes - what you need to know",slug:"2024-tax-rate-changes-guide",content:"The Swiss government has announced new tax rates for 2024. Here's what changed and how it affects you...",author:{id:"4",name:"Tax Expert",role:"expert"},category:{id:"4",name:"Tax Education & Resources",slug:"tax-education-resources",color:"#8B5CF6"},tags:["2024","rates","changes","education"],status:"pinned",isSolved:!0,isFeatured:!0,views:234,replies:12,likes:45,lastReply:{author:"Admin",createdAt:"6 hours ago"},createdAt:"2024-01-10T14:20:00Z",updatedAt:"2024-01-15T08:20:00Z"}].filter(s=>{const r=s.title.toLowerCase().includes(l.toLowerCase())||s.content.toLowerCase().includes(l.toLowerCase())||s.tags.some(B=>B.toLowerCase().includes(l.toLowerCase())),c=n==="all"||n==="solved"&&s.isSolved||n==="unsolved"&&!s.isSolved||n==="featured"&&s.isFeatured;return r&&c})].sort((s,r)=>{switch(f){case"newest":return new Date(r.createdAt).getTime()-new Date(s.createdAt).getTime();case"popular":return r.views-s.views;case"replies":return r.replies-s.replies;default:return 0}}),t=s=>{switch(s){case"pinned":return e.jsx(J,{className:"w-4 h-4 text-yellow-500"});case"locked":return e.jsx(H,{className:"w-4 h-4 text-gray-500"});default:return null}},o=s=>{switch(s){case"expert":return"bg-purple-100 text-purple-800";case"moderator":return"bg-blue-100 text-blue-800";case"admin":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return y?e.jsx("div",{className:`space-y-4 ${v}`,children:[...Array(5)].map((s,r)=>e.jsx(d,{className:"p-6 animate-pulse",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"})]})]})},r))}):e.jsxs("div",{className:`space-y-6 ${v}`,children:[e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(q,{type:"text",placeholder:"Search topics...",value:l,onChange:s=>A(s.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex flex-wrap items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:n,onChange:s=>j(s.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:[e.jsx("option",{value:"all",children:"All Topics"}),e.jsx("option",{value:"solved",children:"Solved"}),e.jsx("option",{value:"unsolved",children:"Unsolved"}),e.jsx("option",{value:"featured",children:"Featured"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:f,onChange:s=>w(s.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:[e.jsx("option",{value:"newest",children:"Newest"}),e.jsx("option",{value:"popular",children:"Most Popular"}),e.jsx("option",{value:"replies",children:"Most Replies"})]})]})]})]})}),e.jsx("div",{className:"space-y-4",children:e.jsx(Z,{children:N.map((s,r)=>e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:r*.05},whileHover:{scale:1.01},whileTap:{scale:.99},children:e.jsx(d,{className:"p-6 hover:shadow-lg transition-shadow duration-200 cursor-pointer",onClick:()=>a==null?void 0:a(s),children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-1 pt-1",children:[t(s.status),s.isSolved&&e.jsx(P,{className:"w-4 h-4 text-green-500"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsxs(u,{variant:"ghost",size:"sm",onClick:c=>{c.stopPropagation(),h==null||h(s.id)},className:"text-gray-500 hover:text-red-500",children:[e.jsx(Q,{className:"w-4 h-4 mr-1"}),s.likes]}),e.jsx(u,{variant:"ghost",size:"sm",onClick:c=>{c.stopPropagation(),x==null||x(s.id)},className:"text-gray-500 hover:text-blue-500",children:e.jsx(D,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:s.content}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(M,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"font-medium",children:s.author.name}),e.jsx(C,{className:`ml-2 ${o(s.author.role)}`,children:s.author.role})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"w-4 h-4 mr-1"}),new Date(s.createdAt).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(U,{className:"w-4 h-4 mr-1"}),s.views," views"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"w-4 h-4 mr-1"}),s.replies," replies"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:s.tags.map(c=>e.jsxs(C,{variant:"outline",className:"text-xs",children:["#",c]},c))}),s.lastReply&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsxs("span",{children:["Last reply by ",s.lastReply.author]}),e.jsx("span",{className:"mx-2",children:"â€¢"}),e.jsx("span",{children:s.lastReply.createdAt})]}),e.jsx(z,{className:"w-4 h-4 text-gray-400"})]})})]})]})})},s.id))})}),N.length===0&&e.jsxs(d,{className:"p-12 text-center",children:[e.jsx(b,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No topics found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:l?"Try adjusting your search terms":"Be the first to start a discussion"}),e.jsx(u,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Create New Topic"})]})]})},ie=()=>{const{categorySlug:g}=W(),m=_(),[a,h]=i.useState(null),[x,y]=i.useState([]),[v,l]=i.useState(!0),[A,f]=i.useState("");i.useState("newest"),i.useState("all");const w={"individual-tax-returns":{id:"1",name:"Individual Tax Returns",slug:"individual-tax-returns",description:"Questions about personal tax returns, deductions, and individual tax planning",icon:"user",color:"#3B82F6",topicCount:24,postCount:156,lastActivity:"2 hours ago",rules:["Be specific about your tax situation","Include relevant documents when possible","Respect privacy and confidentiality","Follow Swiss tax law guidelines"]},"business-tax-services":{id:"2",name:"Business Tax Services",slug:"business-tax-services",description:"Corporate tax compliance, VAT, and business tax planning",icon:"building",color:"#10B981",topicCount:18,postCount:89,lastActivity:"4 hours ago",rules:["Provide company details when relevant","Include business structure information","Mention industry and revenue size","Follow corporate tax guidelines"]},"international-tax":{id:"3",name:"International Tax",slug:"international-tax",description:"Cross-border tax issues, tax treaties, and expatriate tax planning",icon:"globe",color:"#F59E0B",topicCount:31,postCount:203,lastActivity:"1 hour ago",rules:["Specify your home country and residence status","Include tax treaty information if relevant","Mention double taxation concerns","Provide expat-specific details"]}},n=[{id:"1",title:"Quellensteuer refund for expat - urgent help needed",slug:"quellensteuer-refund-expat-urgent",content:"I need help with my Quellensteuer refund. I'm an expat and not sure about the process...",author:{id:"1",name:"John Doe",role:"member"},category:{id:"1",name:"Individual Tax Returns",slug:"individual-tax-returns",color:"#3B82F6"},tags:["quellensteuer","expat","refund"],status:"active",isSolved:!1,isFeatured:!0,views:156,replies:8,likes:12,lastReply:{author:"Tax Expert",createdAt:"2 hours ago"},createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-15T14:30:00Z"},{id:"2",title:"Pillar 3a contributions and tax deductions",slug:"pillar-3a-contributions-tax-deductions",content:"I want to maximize my Pillar 3a contributions for tax benefits. What's the current limit?",author:{id:"2",name:"Sarah Wilson",role:"member"},category:{id:"1",name:"Individual Tax Returns",slug:"individual-tax-returns",color:"#3B82F6"},tags:["pillar-3a","deductions","retirement"],status:"active",isSolved:!0,isFeatured:!1,views:89,replies:15,likes:23,lastReply:{author:"Retirement Expert",createdAt:"4 hours ago"},createdAt:"2024-01-14T09:15:00Z",updatedAt:"2024-01-15T10:15:00Z"},{id:"3",title:"Tax deductions for home office expenses",slug:"tax-deductions-home-office-expenses",content:"I work from home 3 days a week. Can I deduct home office expenses from my taxes?",author:{id:"3",name:"Mike Johnson",role:"member"},category:{id:"1",name:"Individual Tax Returns",slug:"individual-tax-returns",color:"#3B82F6"},tags:["home-office","deductions","expenses"],status:"active",isSolved:!1,isFeatured:!1,views:67,replies:5,likes:8,lastReply:{author:"Tax Advisor",createdAt:"1 hour ago"},createdAt:"2024-01-15T08:45:00Z",updatedAt:"2024-01-15T13:45:00Z"}];i.useEffect(()=>{l(!0),setTimeout(()=>{const t=w[g];t&&(h(t),y(n)),l(!1)},1e3)},[g]);const j=()=>{m(`/forum/category/${g}/create-topic`)},S=t=>{m(`/forum/topic/${t.slug}`)},F=t=>{f(t);const o=n.filter(s=>s.title.toLowerCase().includes(t.toLowerCase())||s.content.toLowerCase().includes(t.toLowerCase())||s.tags.some(r=>r.toLowerCase().includes(t.toLowerCase())));y(o)},N=t=>({user:"ðŸ‘¤",building:"ðŸ¢",globe:"ðŸŒ","book-open":"ðŸ“š",briefcase:"ðŸ’¼","message-circle":"ðŸ’¬"})[t]||"ðŸ“";return v?e.jsx(T,{children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-6"}),e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((t,o)=>e.jsx("div",{className:"h-24 bg-gray-200 rounded"},o))})]})})}):a?e.jsx(T,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("div",{className:"flex items-center space-x-4 mb-6",children:e.jsxs(u,{variant:"ghost",onClick:()=>m("/forum"),className:"flex items-center",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Back to Forum"]})}),e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center text-white text-2xl font-medium flex-shrink-0",style:{backgroundColor:a.color},children:N(a.icon)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a.name}),e.jsxs(C,{className:"bg-blue-100 text-blue-800",children:[a.topicCount," topics"]})]}),e.jsx("p",{className:"text-gray-600 mb-4 text-lg",children:a.description}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{className:"w-4 h-4 mr-1"}),a.topicCount," topics"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(V,{className:"w-4 h-4 mr-1"}),a.postCount," posts"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"w-4 h-4 mr-1"}),"Last activity ",a.lastActivity]})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(u,{onClick:j,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"New Topic"]})})]})})]}),e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsxs(d,{className:"p-6 bg-blue-50 border-blue-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Community Guidelines"}),e.jsx("ul",{className:"space-y-2 text-sm text-blue-800",children:a.rules.map((t,o)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:"â€¢"}),t]},o))})]})}),e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsx(G,{topics:x,categoryId:a.id,onTopicClick:S,onSearch:F})}),x.length===0&&e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs(d,{className:"p-12 text-center",children:[e.jsx(b,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No topics found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Be the first to start a discussion in this category."}),e.jsxs(u,{onClick:j,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Create First Topic"]})]})})]})}):e.jsx(T,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Category Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The category you're looking for doesn't exist."}),e.jsx(u,{onClick:()=>m("/forum"),children:"Back to Forum"})]})})};export{ie as default};
