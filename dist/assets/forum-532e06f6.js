const n="/backend/forum-unified-api.php";async function r(a,e){const c=await(await fetch(`${n}${a}`,{...e,headers:{"Content-Type":"application/json",...e==null?void 0:e.headers}})).json();if(!c.success)throw new Error(c.error||"API request failed");return c.data}async function i(){return r("?action=categories")}async function g(a){return(await i()).find(t=>t.slug===a)||null}async function s(a){const e=new URLSearchParams({action:"topics"});return a!=null&&a.category&&e.append("category",a.category),a!=null&&a.sort&&e.append("sort",a.sort),a!=null&&a.page&&e.append("page",a.page.toString()),a!=null&&a.limit&&e.append("limit",a.limit.toString()),r(`?${e.toString()}`)}async function u(a){return(await s({limit:100})).find(t=>t.slug===a)||null}async function f(a){const e=new URLSearchParams({action:"posts",topic_id:a.toString()});return r(`?${e.toString()}`)}async function d(a,e,t){await r("?action=vote",{method:"POST",body:JSON.stringify({content_type:a,content_id:e,vote_type:t})})}export{s as a,g as b,u as c,f as d,i as g,d as v};
