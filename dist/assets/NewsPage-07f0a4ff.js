import{j as e,aL as u,K as E,g as R,a6 as b,an as U,aM as P,aG as L}from"./vendor-ui-834bd4ab.js";import{r as l}from"./vendor-react-fa5d0322.js";import{H as O}from"./vendor-helmet-7425e547.js";import{B as d}from"./main-fad28319.js";import{I as G}from"./input-7ac7ffbc.js";import{B as y}from"./badge-adcdf89e.js";import{C as k}from"./card-c1452972.js";import"./vendor-firebase-cb809cd2.js";const F=["tax","steuer","fiscal","fiscalitÃ©","imposta","income tax","wealth tax","corporate tax","VAT","MWST","tax reform","tax treaty","tax deduction","tax credit","pillar 3a","retirement","pension","real estate tax","digital tax","cryptocurrency tax","expat tax"],$={news:`Rewrite this Swiss tax news article in a professional, engaging tone. 
  Requirements:
  - Maintain factual accuracy and key information
  - Use clear, professional language suitable for tax professionals and businesses
  - Include relevant Swiss context and implications
  - Add value through analysis and insights
  - Keep the same key facts but use different wording to avoid plagiarism
  - Include a "Source" section at the end with proper attribution
  - Target length: 200-300 words
  
  Original article:`,analysis:`Create a comprehensive analysis of this Swiss tax development. 
  Requirements:
  - Provide expert insights and implications
  - Include practical advice for businesses and individuals
  - Reference relevant Swiss tax laws and regulations
  - Add historical context if relevant
  - Include actionable recommendations
  - Maintain professional tone while being accessible
  - Include proper source attribution
  - Target length: 300-400 words
  
  Development to analyze:`},z=async()=>{try{return(await Promise.all([M(),K(),H(),V(),B(),Y()])).flat().filter(n=>n&&F.some(r=>n.title.toLowerCase().includes(r.toLowerCase())||n.description.toLowerCase().includes(r.toLowerCase())))}catch{return[]}},M=async()=>(await new Promise(t=>setTimeout(t,100)),[{id:`admin_${Date.now()}_1`,title:"Federal Council Proposes Digital Tax Reforms for 2025",description:"The Swiss government has announced comprehensive digital tax reforms aimed at modernizing the tax system.",source:"Swiss Federal Administration",originalUrl:"https://www.admin.ch/gov/en/start/federal-council/news.html",publishedAt:new Date().toISOString(),category:"government",rawContent:"The Federal Council has proposed new digital tax measures..."}]),K=async()=>(await new Promise(t=>setTimeout(t,100)),[{id:`efd_${Date.now()}_1`,title:"Swiss Tax Policy Updates: New Corporate Tax Incentives",description:"The Federal Department of Finance announces new corporate tax incentives for innovation and sustainability.",source:"Swiss Federal Department of Finance",originalUrl:"https://www.efd.admin.ch/efd/en/home/finanzpolitik/steuerpolitik.html",publishedAt:new Date(Date.now()-24*60*60*1e3).toISOString(),category:"tax-policy",rawContent:"The Federal Department of Finance has introduced new corporate tax incentives..."}]),H=async()=>(await new Promise(t=>setTimeout(t,100)),[{id:`estv_${Date.now()}_1`,title:"Updated VAT Guidelines for Digital Services",description:"The Federal Tax Administration releases new VAT guidelines for digital services and e-commerce.",source:"Swiss Federal Tax Administration",originalUrl:"https://www.estv.admin.ch/estv/en/home/steuern/mehrwertsteuer.html",publishedAt:new Date(Date.now()-2*24*60*60*1e3).toISOString(),category:"tax-law",rawContent:"The Federal Tax Administration has updated its VAT guidelines..."}]),V=async()=>(await new Promise(t=>setTimeout(t,100)),[{id:`swissinfo_${Date.now()}_1`,title:"Swiss Cantons Compete for International Business with Tax Reforms",description:"Several Swiss cantons are implementing tax reforms to attract international businesses.",source:"SwissInfo",originalUrl:"https://www.swissinfo.ch/eng/tax",publishedAt:new Date(Date.now()-3*24*60*60*1e3).toISOString(),category:"news",rawContent:"Swiss cantons are increasingly competing for international business..."}]),B=async()=>(await new Promise(t=>setTimeout(t,100)),[{id:`letemps_${Date.now()}_1`,title:"Nouvelles Mesures Fiscales pour les Startups en Suisse",description:"Le gouvernement suisse annonce de nouvelles mesures fiscales pour soutenir les startups.",source:"Le Temps",originalUrl:"https://www.letemps.ch/economie/fiscalite",publishedAt:new Date(Date.now()-4*24*60*60*1e3).toISOString(),category:"news",rawContent:"Le gouvernement suisse a annoncÃ© de nouvelles mesures fiscales..."}]),Y=async()=>(await new Promise(t=>setTimeout(t,100)),[{id:`nzz_${Date.now()}_1`,title:"Steuerreform: Neue Anreize fÃ¼r nachhaltige Investitionen",description:"Die Schweizer Regierung fÃ¼hrt neue Steueranreize fÃ¼r nachhaltige Investitionen ein.",source:"NZZ",originalUrl:"https://www.nzz.ch/finanzen/steuern",publishedAt:new Date(Date.now()-5*24*60*60*1e3).toISOString(),category:"news",rawContent:"Die Schweizer Regierung hat neue Steueranreize fÃ¼r nachhaltige Investitionen..."}]),J=async t=>{try{const s={}.VITE_AI_PROVIDER||"gemini";if(!{}.VITE_GEMINI_API_KEY)throw new Error("AI API key not configured");const r=`${$.news}

Title: ${t.title}
Source: ${t.source}
Original Content: ${t.rawContent}

Please rewrite this article with the following requirements:
1. Maintain all key facts and information
2. Use different wording to avoid plagiarism
3. Add professional analysis and insights
4. Include Swiss context and implications
5. End with a "Source" section attributing the original source
6. Keep it professional and engaging
7. Target length: 200-300 words

Respond with ONLY a JSON object in this format:
{
  "title": "Rewritten title",
  "description": "Brief description",
  "content": "Full rewritten content with source attribution",
  "tags": ["tag1", "tag2", "tag3"],
  "category": "category"
}`;let i;if(s==="gemini")i=await Q(r);else throw new Error(`AI provider ${s} not supported for news rewriting`);const o=JSON.parse(i);return{id:`rewritten_${t.id}`,title:o.title,description:o.description,content:o.content,source:t.source,originalUrl:t.originalUrl,publishedAt:new Date().toISOString(),category:o.category,tags:o.tags,isRewritten:!0,originalNewsId:t.id,image:N(o.category),imageAlt:`News image for ${o.category} category`}}catch{return{...t,isRewritten:!1,content:`Original content from ${t.source}. For full details, please visit the source.`,image:N(t.category),imageAlt:`News image for ${t.category} category`}}},N=t=>{const s={government:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=400&h=250&fit=crop&crop=center","tax-policy":"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=400&h=250&fit=crop&crop=center","tax-law":"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=250&fit=crop&crop=center",news:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400&h=250&fit=crop&crop=center",business:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400&h=250&fit=crop&crop=center"};return s[t]||s.news},W=t=>{try{const s=JSON.parse(localStorage.getItem("rewrittenNews")||"[]"),n=s.findIndex(i=>i.originalNewsId===t.originalNewsId);n>=0?s[n]=t:s.unshift(t);const r=s.slice(0,50);return localStorage.setItem("rewrittenNews",JSON.stringify(r)),!0}catch{return!1}},v=()=>{try{return JSON.parse(localStorage.getItem("rewrittenNews")||"[]").sort((s,n)=>new Date(n.publishedAt)-new Date(s.publishedAt))}catch{return[]}},S=async()=>{try{const t=await z();if(t.length===0)return[];const s=[];for(const n of t.slice(0,5)){const r=await J(n);r&&(s.push(r),W(r),await new Promise(i=>setTimeout(i,2e3)))}return s}catch{return[]}},Z=()=>{if(!(localStorage.getItem("autoGenerateNews")==="true"))return;const s=localStorage.getItem("lastNewsGenerationDate"),n=new Date().toDateString();s!==n&&S().then(()=>{localStorage.setItem("lastNewsGenerationDate",n)})},q=async()=>v(),Q=async t=>{try{const s={}.VITE_GEMINI_API_KEY;if(!s||s==="YOUR_ACTUAL_GEMINI_API_KEY_HERE")throw new Error("Please replace YOUR_ACTUAL_GEMINI_API_KEY_HERE with your real Google Gemini API key");const n=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:2048}})});if(!n.ok)throw new Error(`Gemini API error: ${n.status}`);const i=(await n.json()).candidates[0].content.parts[0].text;let o=i.match(/```json\s*([\s\S]*?)\s*```/);if(o||(o=i.match(/\{[\s\S]*\}/)),o)return o[1]||o[0];throw new Error("Invalid AI response format")}catch(s){throw s}},le=()=>{const[t,s]=l.useState([]),[n,r]=l.useState(!0),[i,o]=l.useState(""),[c,j]=l.useState("all"),[w,I]=l.useState(null),[g,x]=l.useState(!1),T=[{id:"all",name:"All News",icon:"ðŸ“°"},{id:"government",name:"Government",icon:"ðŸ›ï¸"},{id:"tax-policy",name:"Tax Policy",icon:"ðŸ“‹"},{id:"tax-law",name:"Tax Law",icon:"âš–ï¸"},{id:"news",name:"General News",icon:"ðŸ“¢"},{id:"business",name:"Business",icon:"ðŸ’¼"}];l.useEffect(()=>{h(),Z()},[]);const h=async()=>{r(!0);try{const a=v();if(a.length===0){const m=await q();s(Array.isArray(m)?m:[])}else s(a);I(new Date)}catch(a){console.error("Error loading news:",a),s([])}finally{r(!1)}},p=async()=>{x(!0);try{await S(),await h()}catch{}finally{x(!1)}},A=()=>{h()},C=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),D=a=>new Date(a).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),f=t.filter(a=>{const m=a.title.toLowerCase().includes(i.toLowerCase())||a.description.toLowerCase().includes(i.toLowerCase())||a.content&&a.content.toLowerCase().includes(i.toLowerCase()),_=c==="all"||a.category===c;return m&&_});return e.jsxs(e.Fragment,{children:[e.jsxs(O,{children:[e.jsx("title",{children:"Swiss Tax News & Updates | Taxed GmbH"}),e.jsx("meta",{name:"description",content:"Stay updated with the latest Swiss tax news, policy changes, and regulatory updates. AI-powered news aggregation with expert analysis."}),e.jsx("meta",{name:"keywords",content:"Swiss tax news, tax updates, Swiss tax law, tax policy, Switzerland tax changes"})]}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-steel-blue to-blue-600 text-white",children:e.jsx("div",{className:"container mx-auto px-4 py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Swiss Tax News & Updates"}),e.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100",children:"Stay informed with the latest Swiss tax developments, policy changes, and expert analysis"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[e.jsx(d,{onClick:p,disabled:g,className:"bg-white text-steel-blue hover:bg-blue-50 px-8 py-3 text-lg font-semibold",children:g?e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"w-5 h-5 mr-2 animate-spin"}),"Generating News..."]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"w-5 h-5 mr-2"}),"Generate New Articles"]})}),e.jsxs(d,{onClick:A,variant:"outline",className:"border-white text-white hover:bg-white hover:text-steel-blue px-8 py-3 text-lg font-semibold",children:[e.jsx(u,{className:"w-5 h-5 mr-2"}),"Refresh"]})]})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-center justify-between",children:[e.jsx("div",{className:"flex-1 w-full lg:w-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(G,{type:"text",placeholder:"Search news articles...",value:i,onChange:a=>o(a.target.value),className:"pl-10 pr-4 py-3 w-full lg:w-80"})]})}),e.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(a=>e.jsxs(d,{variant:c===a.id?"default":"outline",onClick:()=>j(a.id),className:"flex items-center gap-2",children:[e.jsx("span",{children:a.icon}),a.name]},a.id))}),w&&e.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Last updated: ",C(w)," at ",D(w)]})]})}),n?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(u,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-steel-blue"}),e.jsx("p",{className:"text-gray-600",children:"Loading news articles..."})]}):f.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md mx-auto",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“°"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No news articles found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:i||c!=="all"?"Try adjusting your search or filter criteria.":"Generate some news articles to get started."}),!i&&c==="all"&&e.jsx(d,{onClick:p,className:"bg-steel-blue hover:bg-blue-600",children:"Generate News Articles"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(a=>e.jsx(X,{article:a},a.id))})]}),e.jsx("div",{className:"bg-gradient-to-r from-steel-blue to-blue-600 text-white py-16",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Stay Updated"}),e.jsx("p",{className:"text-xl mb-8 text-blue-100",children:"Get the latest Swiss tax news and updates delivered to your inbox"}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsx("div",{className:"hubspot-newsletter-container bg-white/10 backdrop-blur-sm rounded-lg p-6",children:e.jsx("iframe",{src:"https://share-eu1.hsforms.com/1uITtAEHOS8OOaBP67HZnYQ2ds4ox",width:"100%",height:"300",frameBorder:"0",scrolling:"no",title:"Taxed GmbH Newsletter Signup - News",className:"border-0 rounded-lg",style:{minHeight:"300px"}})})})]})})]})]})},X=({article:t})=>{const[s,n]=l.useState(!1);return e.jsxs(k,{className:"bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden",children:[t.image&&e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:t.image,alt:t.imageAlt||t.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs(y,{className:"bg-steel-blue text-white",children:[getCategoryIcon(t.category)," ",t.category]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),formatDate(t.publishedAt)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),t.source]})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2",children:t.title}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:t.description}),t.content&&e.jsx("div",{className:"mb-4",children:s?e.jsx("div",{className:"text-gray-700 text-sm leading-relaxed",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content}})}):e.jsx(d,{variant:"link",onClick:()=>n(!0),className:"p-0 h-auto text-steel-blue hover:text-blue-600",children:"Read full article"})}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.tags.slice(0,3).map((r,i)=>e.jsxs(y,{variant:"outline",className:"text-xs",children:[e.jsx(P,{className:"w-3 h-3 mr-1"}),r]},i))}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsx("div",{className:"text-sm text-gray-500",children:t.isRewritten?e.jsx("span",{className:"flex items-center gap-1",children:"ðŸ¤– AI Rewritten"}):e.jsx("span",{className:"flex items-center gap-1",children:"ðŸ“° Original Source"})}),t.originalUrl&&e.jsxs(d,{variant:"outline",size:"sm",className:"border-steel-blue text-steel-blue hover:bg-steel-blue hover:text-white",onClick:()=>{try{t.originalUrl&&t.originalUrl!=="#"&&t.originalUrl.startsWith("http")?window.open(t.originalUrl,"_blank"):alert("This is a demonstration article. In a real implementation, this would link to the actual news source.")}catch(r){console.error("Error opening URL:",r),alert("Unable to open the source link. Please try again later.")}},children:["View Source",e.jsx(L,{className:"w-4 h-4 ml-1"})]})]})]})]})};export{le as default};
