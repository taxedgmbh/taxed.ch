import{j as e}from"./vendor-ui-834bd4ab.js";import{r as t}from"./vendor-react-fa5d0322.js";import{g as h,a as g}from"./forum-715b09c2.js";const b=()=>{const[i,c]=t.useState(!0),[r,n]=t.useState([]),[d,o]=t.useState([]),[l,m]=t.useState(null);return t.useEffect(()=>{(async()=>{try{const[a,x]=await Promise.all([h(),g()]);o(a),n(x)}catch(a){m(a.message),console.error("Error fetching data:",a)}finally{c(!1)}})()},[]),i?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-steel-blue mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading forum..."})]})}):l?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading Forum"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Error: ",l]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-steel-blue text-white px-4 py-2 rounded hover:bg-blue-800",children:"Retry"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Swiss Tax Forum"}),e.jsx("p",{className:"text-gray-600",children:"Discuss tax questions and get expert advice"}),e.jsx("div",{className:"w-24 h-1 bg-steel-blue mt-4 rounded-full"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Categories"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(s=>e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border-l-4 border-steel-blue hover:shadow-md transition-shadow",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.name}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:s.description}),e.jsxs("div",{className:"mt-2 text-sm text-steel-blue font-medium",children:[s.topic_count||0," topics"]})]},s.id))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Topics"}),r.length===0?e.jsx("div",{className:"bg-white p-8 rounded-lg shadow text-center",children:e.jsx("p",{className:"text-gray-600",children:"No topics found. Be the first to start a discussion!"})}):e.jsx("div",{className:"space-y-4",children:r.map(s=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.title}),e.jsx("p",{className:"text-gray-600 mb-4",children:s.content}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{children:["Category: ",s.category_name||"General"]}),e.jsxs("span",{children:["Score: ",s.score||0]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{children:["↑ ",s.upvotes||0]}),e.jsxs("span",{children:["↓ ",s.downvotes||0]})]})]})]},s.id))})]})]})})};export{b as default};
