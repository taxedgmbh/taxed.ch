import{j as e,g as N,v as S,au as T,an as _,X as L,i as C,m as j,aF as F,V as g,aM as M,U as v,o as A,y as b,J as w,bo as P,r as $}from"./vendor-ui-834bd4ab.js";import{r as u}from"./vendor-react-fa5d0322.js";import{B as h}from"./main-394672de.js";import{I as f}from"./input-0dbc3619.js";import{C as p}from"./card-fd0e8de0.js";import{g as B,c as D}from"./forum-715b09c2.js";const E=({onSearch:s,onCreateTopic:t,onNotifications:i,onProfile:n,className:d=""})=>{const[o,x]=u.useState(""),[r,l]=u.useState(!1),c=m=>{m.preventDefault(),s==null||s(o)};return e.jsx("header",{className:`bg-white shadow-sm border-b border-gray-200 ${d}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"T"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Tax Forum"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Swiss Tax Community"})]})]})}),e.jsx("div",{className:"flex-1 max-w-lg mx-8 hidden md:block",children:e.jsx("form",{onSubmit:c,className:"relative",children:e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(f,{type:"text",placeholder:"Search forum topics...",value:o,onChange:m=>x(m.target.value),className:"pl-10 pr-4 py-2 w-full"})]})})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(h,{onClick:t,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"New Topic"]}),e.jsxs(h,{variant:"ghost",size:"sm",onClick:i,className:"relative",children:[e.jsx(T,{className:"w-5 h-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"3"})]}),e.jsx(h,{variant:"ghost",size:"sm",onClick:n,children:e.jsx(_,{className:"w-5 h-5"})}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>l(!r),className:"md:hidden",children:r?e.jsx(L,{className:"w-5 h-5"}):e.jsx(C,{className:"w-5 h-5"})})]})]}),r&&e.jsx(j.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden py-4 border-t border-gray-200",children:e.jsx("form",{onSubmit:c,className:"relative",children:e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(f,{type:"text",placeholder:"Search forum topics...",value:o,onChange:m=>x(m.target.value),className:"pl-10 pr-4 py-2 w-full"})]})})})]})})},U=({categories:s=[],stats:t,onCategoryClick:i,onFilterClick:n,className:d=""})=>{var r,l,c,m;const o=[{name:"Latest Topics",icon:A},{name:"Most Popular",icon:b},{name:"Unanswered",icon:g},{name:"Expert Answers",icon:w}],x=a=>a;return e.jsxs("div",{className:`space-y-6 ${d}`,children:[e.jsxs(p,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(F,{className:"w-5 h-5 mr-2"}),"Quick Filters"]}),e.jsx("div",{className:"space-y-2",children:o.map((a,y)=>e.jsx(h,{variant:"ghost",className:"w-full justify-start text-left",onClick:()=>n==null?void 0:n(a.name),children:e.jsxs("div",{className:"flex items-center w-full",children:[e.jsx(a.icon,{className:"w-4 h-4 mr-3"}),e.jsx("span",{className:"flex-1",children:a.name})]})},y))})]}),e.jsxs(p,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(g,{className:"w-5 h-5 mr-2"}),"Categories"]}),e.jsx("div",{className:"space-y-3",children:s.map(a=>e.jsx(j.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(h,{variant:"ghost",className:"w-full justify-start text-left p-3 h-auto",onClick:()=>i==null?void 0:i(a),children:e.jsxs("div",{className:"flex items-start space-x-3 w-full",children:[e.jsxs("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white text-sm font-medium flex-shrink-0",style:{backgroundColor:a.color},children:[a.icon==="user"&&"ðŸ‘¤",a.icon==="building"&&"ðŸ¢",a.icon==="globe"&&"ðŸŒ",a.icon==="book-open"&&"ðŸ“š"]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-900 truncate",children:a.name}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:a.description}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsxs("span",{className:"text-xs text-gray-400",children:[a.topicCount," topics"]}),e.jsx("span",{className:"text-xs text-gray-400",children:"â€¢"}),e.jsxs("span",{className:"text-xs text-gray-400",children:[a.postCount," posts"]}),a.lastActivity&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-gray-400",children:"â€¢"}),e.jsx("span",{className:"text-xs text-gray-400",children:x(a.lastActivity)})]})]})]})]})})},a.id))})]}),s.length>0&&e.jsxs(p,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(M,{className:"w-5 h-5 mr-2"}),"Popular Tags"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.slice(0,6).map(a=>e.jsxs(h,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>i==null?void 0:i(a),children:["#",a.slug]},a.slug))})]}),e.jsxs(p,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(v,{className:"w-5 h-5 mr-2"}),"Community Stats"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Members"}),e.jsx("span",{className:"font-semibold text-gray-900",children:((r=t==null?void 0:t.total_users)==null?void 0:r.toLocaleString())??"-"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Categories"}),e.jsx("span",{className:"font-semibold text-blue-600",children:((l=t==null?void 0:t.total_categories)==null?void 0:l.toLocaleString())??s.length})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Topics"}),e.jsx("span",{className:"font-semibold text-purple-600",children:((c=t==null?void 0:t.total_topics)==null?void 0:c.toLocaleString())??"-"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Posts"}),e.jsx("span",{className:"font-semibold text-green-600",children:((m=t==null?void 0:t.total_posts)==null?void 0:m.toLocaleString())??"-"})]})]})]})]})},z=({stats:s,className:t=""})=>{var n,d,o,x,r;const i=[{title:"Members",value:((n=s==null?void 0:s.total_users)==null?void 0:n.toLocaleString())??"0",icon:v,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Categories",value:((d=s==null?void 0:s.total_categories)==null?void 0:d.toLocaleString())??"0",icon:P,color:"text-green-600",bgColor:"bg-green-100"},{title:"Topics",value:((o=s==null?void 0:s.total_topics)==null?void 0:o.toLocaleString())??"0",icon:g,color:"text-purple-600",bgColor:"bg-purple-100"},{title:"Posts",value:((x=s==null?void 0:s.total_posts)==null?void 0:x.toLocaleString())??"0",icon:w,color:"text-yellow-600",bgColor:"bg-yellow-100"},{title:"Votes",value:((r=s==null?void 0:s.total_votes)==null?void 0:r.toLocaleString())??"0",icon:$,color:"text-green-600",bgColor:"bg-green-100"}];return e.jsxs("div",{className:`space-y-6 ${t}`,children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((l,c)=>e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:c*.1},whileHover:{scale:1.02},children:e.jsx(p,{className:"p-6 hover:shadow-lg transition-shadow duration-200",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg ${l.bgColor} flex items-center justify-center`,children:e.jsx(l.icon,{className:`w-6 h-6 ${l.color}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:l.value}),e.jsx("p",{className:"text-sm text-gray-600",children:l.title})]})]})})},l.title))}),e.jsxs(p,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(b,{className:"w-5 h-5 mr-2"}),"Forum Overview"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Welcome to the Swiss Tax Forum! This is a community-driven space where you can discuss tax questions, share experiences, and get advice from fellow taxpayers and experts."}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Getting Started:"})," Browse categories, read existing topics, or start a new discussion to get help with your tax questions."]})})]})]})},V=({children:s,showSidebar:t=!0,showStats:i=!0,className:n=""})=>{const[d,o]=u.useState([]),[x,r]=u.useState(null);return u.useEffect(()=>{(async()=>{try{const[c,m]=await Promise.all([B(),D()]);o(c),r(m)}catch(c){console.error("Error fetching forum data:",c)}})()},[]),e.jsxs("div",{className:`min-h-screen bg-gray-50 ${n}`,children:[e.jsx(E,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[t&&e.jsx("aside",{className:"lg:w-1/4",children:e.jsx(U,{categories:d.map(l=>({id:String(l.id),name:l.name,slug:l.slug,description:l.description,icon:l.icon||"book-open",color:l.color||"#3B82F6",topicCount:l.topic_count||0,postCount:l.post_count||0,lastActivity:l.last_activity})),stats:x})}),e.jsx("main",{className:"lg:w-3/4",children:e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:s})})]}),i&&e.jsx("div",{className:"mt-12",children:e.jsx(z,{stats:x})})]})]})};export{V as F};
