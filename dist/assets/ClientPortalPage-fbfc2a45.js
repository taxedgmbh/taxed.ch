import{j as e,aP as A,F as o,a3 as u,p,a7 as y,a4 as N,K as f}from"./vendor-ui-7e3c1e85.js";import{e as M,r as h}from"./vendor-react-98b53e68.js";import{H as T}from"./vendor-helmet-2d03319e.js";import{q as P,n as E,w as F,v as H,x as L,B as R}from"./vendor-firebase-e71560cb.js";import{e as B,B as t,d as z}from"./main-0e44faf4.js";import{C as a,a as l,c as i,d}from"./card-9f228cfb.js";const G=()=>{const{currentUser:r,logout:b}=B(),w=M(),[g,v]=h.useState([]),[S,D]=h.useState(!0),[m,k]=h.useState({totalDocuments:0,pendingReview:0,approved:0,unreadMessages:0});h.useEffect(()=>{(async()=>{if(r!=null&&r.id)try{const c=P(E(z,"documents"),F("customerId","==",r.id),H("uploadedAt","desc"),L(10)),x=(await R(c)).docs.map(n=>{var j;return{id:n.id,...n.data(),uploadedAt:(j=n.data().uploadedAt)==null?void 0:j.toDate()}});v(x),k({totalDocuments:x.length,pendingReview:x.filter(n=>n.status==="pending").length,approved:x.filter(n=>n.status==="approved").length,unreadMessages:0})}catch(c){console.error("Error fetching data:",c)}finally{D(!1)}})()},[r]);const C=async()=>{try{await b(),w("/client-portal/login")}catch(s){console.error("Error logging out:",s)}};return S?e.jsx("div",{className:"min-h-screen bg-light-gray-bg-1 py-12 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-steel-blue"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading your dashboard..."})]})}):e.jsx("div",{className:"min-h-screen bg-light-gray-bg-1 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-dark-gray",children:["Welcome, ",r==null?void 0:r.name]}),e.jsx("p",{className:"text-lg text-dark-gray/80 mt-2",children:"Secure access to your tax documents and case management"})]}),e.jsxs(t,{variant:"outline",onClick:C,className:"flex items-center",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Log Out"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(a,{className:"bg-gradient-to-br from-steel-blue/10 to-blue-600/10 border-steel-blue/20",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Documents"}),e.jsx("p",{className:"text-3xl font-bold text-dark-gray mt-1",children:m.totalDocuments})]}),e.jsx(o,{className:"w-12 h-12 text-steel-blue/60"})]})})}),e.jsx(a,{className:"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-200",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Review"}),e.jsx("p",{className:"text-3xl font-bold text-dark-gray mt-1",children:m.pendingReview})]}),e.jsx(u,{className:"w-12 h-12 text-yellow-600/60"})]})})}),e.jsx(a,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),e.jsx("p",{className:"text-3xl font-bold text-dark-gray mt-1",children:m.approved})]}),e.jsx(p,{className:"w-12 h-12 text-green-600/60"})]})})}),e.jsx(a,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Messages"}),e.jsx("p",{className:"text-3xl font-bold text-dark-gray mt-1",children:m.unreadMessages})]}),e.jsx(y,{className:"w-12 h-12 text-blue-600/60"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(o,{className:"h-5 w-5 mr-2"}),"Tax Documents"]})}),e.jsxs(l,{children:[e.jsx("p",{className:"text-sm text-dark-gray/70 mb-4",children:"Access and manage your tax documents"}),e.jsx(t,{className:"w-full",children:"View Documents"})]})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(N,{className:"h-5 w-5 mr-2"}),"Upload Documents"]})}),e.jsxs(l,{children:[e.jsx("p",{className:"text-sm text-dark-gray/70 mb-4",children:"Upload new tax documents securely"}),e.jsx(t,{className:"w-full",children:"Upload Files"})]})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(y,{className:"h-5 w-5 mr-2"}),"Messages"]})}),e.jsxs(l,{children:[e.jsx("p",{className:"text-sm text-dark-gray/70 mb-4",children:"Communicate with your tax advisor"}),e.jsx(t,{className:"w-full",children:"View Messages"})]})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(u,{className:"h-5 w-5 mr-2"}),"Appointments"]})}),e.jsxs(l,{children:[e.jsx("p",{className:"text-sm text-dark-gray/70 mb-4",children:"Schedule and manage appointments"}),e.jsx(t,{className:"w-full",children:"Schedule Meeting"})]})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(p,{className:"h-5 w-5 mr-2"}),"Security"]})}),e.jsxs(l,{children:[e.jsx("p",{className:"text-sm text-dark-gray/70 mb-4",children:"Manage your account security settings"}),e.jsx(t,{className:"w-full",children:"Security Settings"})]})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(f,{className:"h-5 w-5 mr-2"}),"Downloads"]})}),e.jsxs(l,{children:[e.jsx("p",{className:"text-sm text-dark-gray/70 mb-4",children:"Download completed tax returns"}),e.jsx(t,{className:"w-full",children:"Download Files"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-dark-gray",children:"Recent Documents"}),e.jsx(t,{variant:"outline",size:"sm",children:"View All"})]}),g.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(o,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No documents uploaded yet"}),e.jsxs(t,{className:"mt-4",children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Upload Your First Document"]})]}):e.jsx("div",{className:"space-y-3",children:g.map(s=>{var c;return e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${s.status==="approved"?"bg-green-100":s.status==="pending"?"bg-yellow-100":"bg-gray-100"}`,children:e.jsx(o,{className:`w-5 h-5 ${s.status==="approved"?"text-green-600":s.status==="pending"?"text-yellow-600":"text-gray-600"}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-dark-gray",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.category," • ",s.taxYear," • ",(c=s.uploadedAt)==null?void 0:c.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.status==="approved"?"bg-green-100 text-green-800":s.status==="pending"?"bg-yellow-100 text-yellow-800":s.status==="reviewed"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:s.status}),e.jsx(t,{variant:"ghost",size:"sm",children:e.jsx(f,{className:"w-4 h-4"})})]})]},s.id)})})]})]})})},K=()=>e.jsxs(e.Fragment,{children:[e.jsxs(T,{children:[e.jsx("title",{children:"Client Portal - Taxed GmbH | Secure Tax Management"}),e.jsx("meta",{name:"description",content:"Access your secure client portal to manage tax cases, upload documents, and communicate with your Swiss tax advisor at Taxed GmbH."}),e.jsx("meta",{name:"keywords",content:"client portal, tax management, secure login, document upload, tax advisor communication, Switzerland"}),e.jsx("meta",{property:"og:title",content:"Client Portal - Taxed GmbH"}),e.jsx("meta",{property:"og:description",content:"Secure client portal for managing your Swiss tax affairs"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:"https://taxed.ch/client-portal"}),e.jsx("link",{rel:"canonical",href:"https://taxed.ch/client-portal"})]}),e.jsx(G,{})]});export{K as default};
