import{j as e}from"./vendor-ui-7e3c1e85.js";import{r as t}from"./vendor-react-98b53e68.js";const u=()=>{const[d,o]=t.useState(!0),[a,x]=t.useState([]),[r,m]=t.useState([]),[c,h]=t.useState(null);return t.useEffect(()=>{(async()=>{try{const n=await(await fetch("/forum-unified-api.php?action=categories")).json();n.success&&m(n.data);const l=await(await fetch("/forum-unified-api.php?action=topics")).json();l.success&&x(l.data)}catch(i){h(i.message),console.error("Error fetching data:",i)}finally{o(!1)}})()},[]),d?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading forum..."})]})}):c?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading Forum"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Error: ",c]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Retry"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Swiss Tax Forum"}),e.jsx("p",{className:"text-gray-600",children:"Discuss tax questions and get expert advice"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Categories"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(s=>e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.name}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:s.description}),e.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[s.topic_count||0," topics"]})]},s.id))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Topics"}),a.length===0?e.jsx("div",{className:"bg-white p-8 rounded-lg shadow text-center",children:e.jsx("p",{className:"text-gray-600",children:"No topics found. Be the first to start a discussion!"})}):e.jsx("div",{className:"space-y-4",children:a.map(s=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.title}),e.jsx("p",{className:"text-gray-600 mb-4",children:s.content}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{children:["Category: ",s.category_name||"General"]}),e.jsxs("span",{children:["Score: ",s.score||0]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{children:["↑ ",s.upvotes||0]}),e.jsxs("span",{children:["↓ ",s.downvotes||0]})]})]})]},s.id))})]}),e.jsxs("div",{className:"mt-8 bg-gray-100 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Debug Info"}),e.jsxs("p",{children:["Categories loaded: ",r.length]}),e.jsxs("p",{children:["Topics loaded: ",a.length]}),e.jsxs("p",{children:["API working: ",r.length>0?"Yes":"No"]})]})]})})};export{u as default};
