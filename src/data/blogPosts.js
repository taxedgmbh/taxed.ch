// Comprehensive Swiss Tax Blog Posts Database
// Standardized structure for all blog posts

const blogPosts = [
  {
    id: 'quellensteuer-guide-2025',
    slug: 'understanding-swiss-tax-at-source-quellensteuer-2025',
    title: 'Understanding Swiss Tax at Source (Quellensteuer) in 2025',
    author: 'Elena Schmidt',
    authorTitle: 'Senior Tax Advisor',
    date: '2025-01-15',
    category: 'Tax Basics',
    tags: ['Quellensteuer', 'Expat Tax', 'Switzerland', 'Tax at Source'],
    summary: 'A comprehensive guide to Swiss tax at source system for expats. Learn who is affected, how it\'s calculated, and when you might be eligible for a refund.',
    readTime: '8 min read',
    difficulty: 'Beginner',
    featured: true,
    content: `
      <p class="mb-6 text-lg leading-relaxed">For many expatriates arriving in Switzerland, the concept of "Quellensteuer," or tax at source, is one of the first financial matters they encounter. Unlike the standard tax filing system, this method involves your employer deducting taxes directly from your monthly salary. But who does this apply to, and what are the nuances? Let's break it down.</p>
      
      <h2>Who is Subject to Tax at Source?</h2>
      <p>Generally, foreign nationals working in Switzerland who do not hold a C-permit are subject to tax at source. This includes most individuals with B, L, or Ci permits. Swiss citizens are typically not taxed at source, unless their spouse is a foreign national subject to it.</p>
      
      <h2>How is it Calculated?</h2>
      <p>The tax rate applied depends on several factors, including your canton of residence, marital status, number of children, and your spouse's employment status. These factors determine your specific tax tariff (e.g., A0, B1, C2).</p>
      
      <h2>Can You Claim Deductions?</h2>
      <p>The standard Quellensteuer calculation is a flat rate and doesn't consider individual circumstances like:</p>
      <ul>
        <li>Contributions to a Pillar 3a private pension</li>
        <li>Childcare costs</li>
        <li>High commuting or meal expenses</li>
        <li>Debt interest payments</li>
        <li>Alimony payments</li>
      </ul>
      
      <h2>The CHF 120,000 Threshold</h2>
      <p>If your gross annual income exceeds CHF 120,000, you are mandatorily required to file a tax return via the NOV process. The tax at source deducted from your salary then acts as a prepayment towards your final tax bill.</p>
    `,
    imageUrl: 'https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&h=400&fit=crop',
    imageAlt: 'Swiss tax documents and calculator on modern desk'
  },
  {
    id: 'pillar-3a-complete-guide',
    slug: 'expat-guide-to-pillar-3a-pension-in-switzerland-2025',
    title: 'Complete Guide to Pillar 3a Pension for Expats in Switzerland',
    author: 'Lukas Weber',
    authorTitle: 'Pension Specialist',
    date: '2025-01-10',
    category: 'Pension & Savings',
    tags: ['Pillar 3a', 'Pension', 'Savings', 'Tax Deduction'],
    summary: 'Discover how the Pillar 3a pension plan can significantly reduce your Swiss tax bill and help you build wealth for the future. A must-read for any expat.',
    readTime: '10 min read',
    difficulty: 'Intermediate',
    featured: true,
    content: `
      <p class="mb-6 text-lg leading-relaxed">As an expatriate in Switzerland, understanding the local pension system is crucial for both tax optimization and long-term financial planning. The Swiss pension system is based on three "pillars," and the third pillar, specifically Pillar 3a, offers a powerful tool for expats to save money and reduce their tax burden.</p>

      <h2>What is Pillar 3a?</h2>
      <p>Pillar 3a is a private, voluntary pension provision that is encouraged by the Swiss government through significant tax incentives. It complements the state (Pillar 1 - AHV) and occupational (Pillar 2 - Pension Fund) pensions.</p>

      <h2>The Biggest Advantage: Tax Deductions</h2>
      <p>The primary appeal of Pillar 3a is that your annual contributions are fully deductible from your taxable income. For 2025, the maximum contribution limit is CHF 7,056 for employees with a Pillar 2 pension fund.</p>
      
      <h2>How Does It Work?</h2>
      <p>You can open a Pillar 3a account with a bank or an insurance company. There are two main types:</p>
      <ul>
        <li><strong>Bank Solutions:</strong> These offer more flexibility. You can decide how much and when to contribute each year.</li>
        <li><strong>Insurance Solutions:</strong> These often combine savings with insurance coverage.</li>
      </ul>

      <h2>Early Withdrawal for Expats</h2>
      <p>You can withdraw your Pillar 3a funds early if you:</p>
      <ul>
        <li>Permanently leave Switzerland</li>
        <li>Purchase a primary residence in Switzerland</li>
        <li>Start your own business</li>
      </ul>
    `,
    imageUrl: 'https://images.unsplash.com/photo-1554224154-26032fced8bd?w=800&h=400&fit=crop',
    imageAlt: 'Piggy bank with Swiss coins representing savings'
  },
  {
    id: 'real-estate-tax-switzerland',
    slug: 'navigating-swiss-real-estate-tax-for-expats-2025',
    title: 'Navigating Swiss Real Estate Tax for Expats in 2025',
    author: 'Elena Schmidt',
    authorTitle: 'Real Estate Tax Specialist',
    date: '2025-01-05',
    category: 'Real Estate',
    tags: ['Real Estate', 'Property Tax', 'Wealth Tax', 'Eigenmietwert'],
    summary: 'Owning property in Switzerland or abroad has significant tax implications. This guide covers imputed rental value, wealth tax, and deductible costs for expat homeowners.',
    readTime: '12 min read',
    difficulty: 'Advanced',
    featured: true,
    content: `
      <p class="mb-6 text-lg leading-relaxed">For many expatriates, purchasing property represents a significant step towards settling in Switzerland. However, owning real estate—whether in Switzerland or abroad—introduces unique elements to your Swiss tax return.</p>

      <h2>The Concept of "Eigenmietwert" (Imputed Rental Value)</h2>
      <p>If you own and live in a property in Switzerland, you must declare a theoretical income known as "Eigenmietwert," or imputed rental value. This is the estimated rental income you would receive if you were to lease your property on the open market.</p>

      <h2>Deductible Costs: The Other Side of the Coin</h2>
      <p>Fortunately, the addition of imputed rental income is offset by several significant deductions available to homeowners:</p>
      <ul>
        <li><strong>Mortgage Interest:</strong> You can deduct the full amount of interest paid on your mortgage</li>
        <li><strong>Maintenance Costs:</strong> You can deduct costs related to the upkeep of your property</li>
      </ul>

      <h2>Wealth Tax and Foreign Property</h2>
      <p>In addition to income tax, Switzerland levies a wealth tax on your worldwide assets. The tax value of your Swiss property is added to your total wealth.</p>
    `,
    imageUrl: 'https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&h=400&fit=crop',
    imageAlt: 'Modern Swiss house with mountains in background'
  },
  {
    id: 'crypto-tax-switzerland-2025',
    slug: 'cryptocurrency-taxation-in-switzerland-2025',
    title: 'Cryptocurrency Taxation in Switzerland: Complete Guide 2025',
    author: 'Michael Chen',
    authorTitle: 'Digital Assets Specialist',
    date: '2025-01-12',
    category: 'Digital Assets',
    tags: ['Cryptocurrency', 'Bitcoin', 'Digital Assets', 'Capital Gains'],
    summary: 'Everything you need to know about cryptocurrency taxation in Switzerland. Learn how to report crypto gains, losses, and comply with Swiss tax regulations.',
    readTime: '15 min read',
    difficulty: 'Advanced',
    featured: false,
    content: `
      <p class="mb-6 text-lg leading-relaxed">As cryptocurrency adoption continues to grow in Switzerland, understanding the tax implications is crucial for both individuals and businesses. Switzerland has established clear guidelines for cryptocurrency taxation that every investor should know.</p>

      <h2>How Cryptocurrency is Taxed in Switzerland</h2>
      <p>In Switzerland, cryptocurrency is treated as an asset for tax purposes, similar to stocks or real estate. This means:</p>
      <ul>
        <li>Capital gains from crypto trading are generally tax-free for private individuals</li>
        <li>Professional trading is subject to income tax</li>
        <li>Cryptocurrency holdings are subject to wealth tax</li>
      </ul>

      <h2>Private vs. Professional Trading</h2>
      <p>The key distinction is between private and professional trading. Private individuals can benefit from tax-free capital gains, while professional traders must pay income tax on their profits.</p>

      <h2>Wealth Tax Considerations</h2>
      <p>Your cryptocurrency holdings must be declared for wealth tax purposes. The value is determined at the end of each tax year.</p>
    `,
    imageUrl: 'https://images.unsplash.com/photo-1639762681485-074b7f938ba0?w=800&h=400&fit=crop',
    imageAlt: 'Cryptocurrency trading interface with Swiss flag'
  },
  {
    id: 'swiss-wealth-tax-guide',
    slug: 'swiss-wealth-tax-complete-guide-2025',
    title: 'Swiss Wealth Tax: Complete Guide for Expats 2025',
    author: 'Sarah Müller',
    authorTitle: 'Wealth Tax Advisor',
    date: '2025-01-08',
    category: 'Wealth Tax',
    tags: ['Wealth Tax', 'Assets', 'Vermögenssteuer', 'Tax Planning'],
    summary: 'Understand how Swiss wealth tax works, what assets are included, and how to optimize your wealth tax burden as an expat in Switzerland.',
    readTime: '9 min read',
    difficulty: 'Intermediate',
    featured: false,
    content: `
      <p class="mb-6 text-lg leading-relaxed">Switzerland is one of the few countries that still levies a wealth tax. Understanding how this tax works is essential for expats who have accumulated assets, whether in Switzerland or abroad.</p>

      <h2>What is Swiss Wealth Tax?</h2>
      <p>Swiss wealth tax (Vermögenssteuer) is an annual tax levied on your worldwide net assets. It's calculated at the cantonal and municipal level, with rates varying significantly between cantons.</p>

      <h2>What Assets are Included?</h2>
      <p>All your worldwide assets are subject to Swiss wealth tax, including:</p>
      <ul>
        <li>Real estate (Swiss and foreign)</li>
        <li>Bank accounts and investments</li>
        <li>Cryptocurrency holdings</li>
        <li>Business interests</li>
        <li>Personal property (above certain thresholds)</li>
      </ul>

      <h2>Tax Rates by Canton</h2>
      <p>Wealth tax rates vary significantly between cantons. Some cantons have no wealth tax, while others can charge up to 1% annually.</p>
    `,
    imageUrl: 'https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop',
    imageAlt: 'Swiss financial documents and wealth management'
  },
  {
    id: 'expat-tax-planning-2025',
    slug: 'expat-tax-planning-strategies-switzerland-2025',
    title: 'Expat Tax Planning Strategies for Switzerland 2025',
    author: 'David Johnson',
    authorTitle: 'International Tax Advisor',
    date: '2025-01-03',
    category: 'Tax Planning',
    tags: ['Tax Planning', 'Expat', 'Optimization', 'Strategy'],
    summary: 'Strategic tax planning tips for expats in Switzerland. Learn how to minimize your tax burden while staying compliant with Swiss tax laws.',
    readTime: '11 min read',
    difficulty: 'Advanced',
    featured: true,
    content: `
      <p class="mb-6 text-lg leading-relaxed">Effective tax planning is crucial for expats in Switzerland. With the right strategies, you can significantly reduce your tax burden while remaining fully compliant with Swiss tax regulations.</p>

      <h2>Key Tax Planning Strategies</h2>
      <p>Here are the most effective tax planning strategies for expats in Switzerland:</p>
      
      <h3>1. Maximize Deductible Contributions</h3>
      <p>Take advantage of all available deductions, including Pillar 3a contributions, health insurance premiums, and professional expenses.</p>

      <h3>2. Optimize Asset Location</h3>
      <p>Consider the tax implications of where you hold different types of assets. Some investments may be more tax-efficient in certain jurisdictions.</p>

      <h3>3. Timing of Income and Expenses</h3>
      <p>Strategically time when you receive income and incur expenses to optimize your tax situation across different tax years.</p>

      <h2>Common Mistakes to Avoid</h2>
      <p>Many expats make costly mistakes in their tax planning. Here are the most common ones to avoid.</p>
    `,
    imageUrl: 'https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?w=800&h=400&fit=crop',
    imageAlt: 'Tax planning documents and calculator'
  },
  {
    id: 'swiss-business-tax-2025',
    slug: 'swiss-business-tax-guide-for-expats-2025',
    title: 'Swiss Business Tax Guide for Expats: Starting a Business in 2025',
    author: 'Anna Weber',
    authorTitle: 'Business Tax Specialist',
    date: '2025-01-01',
    category: 'Business Tax',
    tags: ['Business Tax', 'Entrepreneurship', 'Company Formation', 'VAT'],
    summary: 'Complete guide to Swiss business taxation for expats. Learn about corporate tax rates, VAT, and tax obligations when starting a business in Switzerland.',
    readTime: '13 min read',
    difficulty: 'Advanced',
    featured: false,
    content: `
      <p class="mb-6 text-lg leading-relaxed">Switzerland offers an attractive business environment for entrepreneurs, including expats. Understanding the tax implications of starting and running a business in Switzerland is essential for success.</p>

      <h2>Swiss Corporate Tax System</h2>
      <p>Switzerland has a competitive corporate tax system with rates varying by canton. The federal corporate tax rate is 8.5%, with additional cantonal and municipal taxes.</p>

      <h2>VAT (Value Added Tax)</h2>
      <p>Most businesses in Switzerland must register for VAT if their annual turnover exceeds CHF 100,000. The standard VAT rate is 7.7%.</p>

      <h2>Tax Incentives for Startups</h2>
      <p>Switzerland offers various tax incentives for startups and innovative businesses, including:</p>
      <ul>
        <li>Patent box regimes</li>
        <li>R&D tax credits</li>
        <li>Special tax treatment for holding companies</li>
      </ul>
    `,
    imageUrl: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=400&fit=crop',
    imageAlt: 'Modern Swiss office building with business documents'
  },
  {
    id: 'swiss-inheritance-tax-2025',
    slug: 'swiss-inheritance-tax-guide-2025',
    title: 'Swiss Inheritance Tax: Complete Guide for Expats 2025',
    author: 'Robert Klein',
    authorTitle: 'Estate Planning Specialist',
    date: '2024-12-28',
    category: 'Estate Planning',
    tags: ['Inheritance Tax', 'Estate Planning', 'Succession', 'Wealth Transfer'],
    summary: 'Understanding Swiss inheritance tax laws and how they affect expats. Learn about tax rates, exemptions, and planning strategies for wealth transfer.',
    readTime: '10 min read',
    difficulty: 'Advanced',
    featured: false,
    content: `
      <p class="mb-6 text-lg leading-relaxed">Swiss inheritance tax laws can be complex, especially for expats with assets in multiple countries. Understanding these laws is crucial for effective estate planning.</p>

      <h2>How Swiss Inheritance Tax Works</h2>
      <p>Inheritance tax in Switzerland is levied at the cantonal level, with significant variations between cantons. Some cantons have abolished inheritance tax entirely.</p>

      <h2>Tax Rates and Exemptions</h2>
      <p>Inheritance tax rates and exemptions vary by canton and relationship to the deceased. Spouses and direct descendants often benefit from significant exemptions.</p>

      <h2>Planning Strategies</h2>
      <p>Effective estate planning can help minimize inheritance tax burden while ensuring your assets are transferred according to your wishes.</p>
    `,
    imageUrl: 'https://images.unsplash.com/photo-1450101499163-c8848c66ca85?w=800&h=400&fit=crop',
    imageAlt: 'Estate planning documents and family wealth transfer'
  },
  {
    id: 'swiss-health-insurance-tax',
    slug: 'swiss-health-insurance-tax-deductions-2025',
    title: 'Swiss Health Insurance Tax Deductions: Maximize Your Savings 2025',
    author: 'Maria Garcia',
    authorTitle: 'Health Insurance Specialist',
    date: '2024-12-25',
    category: 'Health & Insurance',
    tags: ['Health Insurance', 'Tax Deduction', 'Krankenkasse', 'Medical Expenses'],
    summary: 'Learn how to maximize your Swiss health insurance tax deductions. Understand what medical expenses are deductible and how to claim them.',
    readTime: '7 min read',
    difficulty: 'Beginner',
    featured: false,
    content: `
      <p class="mb-6 text-lg leading-relaxed">Swiss health insurance premiums and many medical expenses are tax-deductible. Understanding what you can deduct can significantly reduce your tax burden.</p>

      <h2>Deductible Health Insurance Premiums</h2>
      <p>Basic health insurance premiums (Grundversicherung) are fully deductible from your taxable income. This includes premiums for both you and your family members.</p>

      <h2>Additional Medical Expenses</h2>
      <p>Many additional medical expenses are also deductible, including:</p>
      <ul>
        <li>Dental treatments</li>
        <li>Prescription medications</li>
        <li>Alternative medicine treatments</li>
        <li>Medical devices and equipment</li>
      </ul>

      <h2>How to Claim Deductions</h2>
      <p>To claim health insurance deductions, you need to provide proof of payments and ensure all expenses meet the deductibility criteria.</p>
    `,
    imageUrl: 'https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=800&h=400&fit=crop',
    imageAlt: 'Swiss health insurance cards and medical documents'
  },
  {
    id: 'swiss-education-tax-benefits',
    slug: 'swiss-education-tax-benefits-expats-2025',
    title: 'Swiss Education Tax Benefits for Expats: Save on School Fees 2025',
    author: 'Jennifer Lee',
    authorTitle: 'Education Tax Advisor',
    date: '2024-12-22',
    category: 'Education',
    tags: ['Education', 'School Fees', 'Tax Deduction', 'International Schools'],
    summary: 'Discover the tax benefits available for education expenses in Switzerland. Learn how to deduct school fees, language courses, and professional development costs.',
    readTime: '8 min read',
    difficulty: 'Intermediate',
    featured: false,
    content: `
      <p class="mb-6 text-lg leading-relaxed">Education expenses can be significant for expat families in Switzerland. Fortunately, many of these expenses are tax-deductible, providing substantial savings.</p>

      <h2>Deductible Education Expenses</h2>
      <p>Several types of education expenses are deductible in Switzerland:</p>
      <ul>
        <li>Professional development courses</li>
        <li>Language courses for work purposes</li>
        <li>Certain school fees for children</li>
        <li>University and higher education costs</li>
      </ul>

      <h2>International School Fees</h2>
      <p>International school fees may be deductible if they are necessary for your work in Switzerland. The deductibility depends on your specific circumstances.</p>

      <h2>Professional Development</h2>
      <p>Courses and training that are directly related to your profession are generally fully deductible.</p>
    `,
    imageUrl: 'https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=800&h=400&fit=crop',
    imageAlt: 'International school building with Swiss flag'
  }
];

// Blog categories
export const blogCategories = [
  { id: 'all', name: 'All Articles', count: blogPosts.length },
  { id: 'Tax Basics', name: 'Tax Basics', count: blogPosts.filter(p => p.category === 'Tax Basics').length },
  { id: 'Pension & Savings', name: 'Pension & Savings', count: blogPosts.filter(p => p.category === 'Pension & Savings').length },
  { id: 'Real Estate', name: 'Real Estate', count: blogPosts.filter(p => p.category === 'Real Estate').length },
  { id: 'Digital Assets', name: 'Digital Assets', count: blogPosts.filter(p => p.category === 'Digital Assets').length },
  { id: 'Wealth Tax', name: 'Wealth Tax', count: blogPosts.filter(p => p.category === 'Wealth Tax').length },
  { id: 'Tax Planning', name: 'Tax Planning', count: blogPosts.filter(p => p.category === 'Tax Planning').length },
  { id: 'Business Tax', name: 'Business Tax', count: blogPosts.filter(p => p.category === 'Business Tax').length },
  { id: 'Estate Planning', name: 'Estate Planning', count: blogPosts.filter(p => p.category === 'Estate Planning').length },
  { id: 'Health & Insurance', name: 'Health & Insurance', count: blogPosts.filter(p => p.category === 'Health & Insurance').length },
  { id: 'Education', name: 'Education', count: blogPosts.filter(p => p.category === 'Education').length }
];

// Get all blog posts
export const getBlogPosts = () => {
  return blogPosts.sort((a, b) => new Date(b.date) - new Date(a.date));
};

// Get featured blog posts
export const getFeaturedPosts = () => {
  return blogPosts.filter(post => post.featured).slice(0, 3);
};

// Get posts by category
export const getPostsByCategory = (category) => {
  if (category === 'all') return getBlogPosts();
  return blogPosts.filter(post => post.category === category);
};

// Get post by slug
export const getPostBySlug = (slug) => {
  return blogPosts.find(post => post.slug === slug);
};

// Search posts
export const searchPosts = (query) => {
  const lowercaseQuery = query.toLowerCase();
  return blogPosts.filter(post => 
    post.title.toLowerCase().includes(lowercaseQuery) ||
    post.summary.toLowerCase().includes(lowercaseQuery) ||
    post.tags.some(tag => tag.toLowerCase().includes(lowercaseQuery)) ||
    post.content.toLowerCase().includes(lowercaseQuery)
  );
};

// Get related posts
export const getRelatedPosts = (currentPost, limit = 3) => {
  return blogPosts
    .filter(post => 
      post.id !== currentPost.id && 
      (post.category === currentPost.category || 
       post.tags.some(tag => currentPost.tags.includes(tag)))
    )
    .slice(0, limit);
};

// Get popular tags
export const getPopularTags = () => {
  const tagCounts = {};
  blogPosts.forEach(post => {
    post.tags.forEach(tag => {
      tagCounts[tag] = (tagCounts[tag] || 0) + 1;
    });
  });
  
  return Object.entries(tagCounts)
    .sort(([,a], [,b]) => b - a)
    .slice(0, 10)
    .map(([tag, count]) => ({ tag, count }));
};

export default blogPosts;

